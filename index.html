<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PhaserJS #2</title>
  <link rel="shortcut icon" type="image/png" href="images/ico_full.png"/>
  <link rel="stylesheet" href="stylesheet/prism.css">
  <link rel="stylesheet" href="stylesheet/style.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>
<body>

  <!-- Introduction -->
  <div class="banner" style="display: block !important; background-image: linear-gradient(rgba(0,0,0,0.5),rgba(0,0,0,0.5)), url('https://d2skuhm0vrry40.cloudfront.net/2018/articles/2018-08-29-13-52/nintendo-takes-down-11-year-old-pokemon-fangame-kit-1535547168922.jpg/EG11/thumbnail/750x422/format/jpg/quality/60');">
    <div id="class-languages">
      <i class="fab fa-html5 mr-1" style="color: #f84820"></i>
      <i class="fab fa-css3-alt mr-1" style="color: #1970b5"></i>
      <i class="fab fa-js-square mr-1" style="color: #FFE01B"></i>
    </div>
    <div class="container text-center">
      <div class="main">
        <img src="images/logo.png" alt="">
        <div class="class-title text-center">
          <h1>PhaserJS<br> Fiche 2</h1>
        </div>
      </div>
      <p>Durant cette session, on va plus se concentrer sur la création de jeux vidéos dans le language JavaScript. Pour ce faire, on se servira de la librarie <b>Phaser</b>.</p>
      <a class="btn btn-primary tl-button" href="#challenge" role="button">Commencer !</a>
    </div>
  </div>

  <div class="container" id="challenge">

    <div class="accordion" id="accordionExample">

      <!-- Étape 1 -->
      <div class="card">
        <div class="card-header" id="heading1">
          <h2 class="mb-0">
            <button class="btn btn-link done task" type="button" data-toggle="collapse" data-target="#collapse1" aria-expanded="false" aria-controls="collapse1">
              Étape 1 - Défis à compléter avant
            </button>
          </h2>
        </div>
        <div id="collapse1" class="collapse show" aria-labelledby="heading1" data-parent="#accordionExample">
          <div class="card-body">
            <p>Avant d'entamer ce défi, assure toi d'avoir déjà fait ceux-ci:</p>
            <ul>
              <li><a href="https://techieslab.github.io/PhaserJS-Introduction/">PhaserJS - Personnage</a></li>
            </ul>
            <p>Ensuite, assure-toi de te munir d'une grande motivation et soif d'apprendre!</p>
            <p>Aussi, assure-toi que tu sois bien connecté à ton compte <a href="https://repl.it">Repl.It</a>, et que tu aies ton projet de la fois passée.</p>
          </div>
        </div>
      </div>

      <!-- Étape 2 -->
      <div class="card">
        <div class="card-header" id="heading2">
          <h2 class="mb-0">
            <button class="btn btn-link task" type="button" data-toggle="collapse" data-target="#collapse2" aria-expanded="false" aria-controls="collapse2">
              Étape 2 - Gravité
            </button>
          </h2>
        </div>
        <div id="collapse2" class="collapse" aria-labelledby="heading2" data-parent="#accordionExample">
          <div class="card-body">
            <p>Tu sais sûrement ce qu'est la gravité. C'est la force physique qui te retient sur terre dans tes activités de tous les jours. C'est une force qui agit en permanence et qui te tire vers le bas toujours et toujours.</p>

            <p>Dans un jeu vidéo, pour qu'il soit un minimum réaliste, il faut donc aussi une gravité. Cette gravité devrait <b>toujours</b> agir, sauf quand on veut monter.</p>

            <p>Il nous faut donc adapter notre code de plusieurs façons. D'abord, on doit changer ce que font les touches S et <span style="border: 5px solid Fuchsia;">W/Z</span> (W sur les claviers QWERTY et Z sur les claviers AZERTY)</p>

            <img class="img-shadow mb-3" src="images/claviers-azerty-qwerty.png" alt="">

            <ul>
              <li>
                <p>La touche S (Touche bas) ne devrait rien faire pour l'instant.</p>
                <p>La touche W/Z (Touche haut) devrait ajouter une plus grande vitesse (~500)</p>
              </li>
            </ul>

            <p>Maintenant, lorsque tu joues, tu sais juste monter rapidement vers le haut mais plus vers le bas... On va alors ajouter la gravité!</p>

            <pre><code class="language-js">
              this.player.body.setGravityY(800);
            </code></pre>

            <p>Voici la commande pour <b>activer</b> la gravité. Dans quelle fonction faut-il la placer? Dans <code>preload</code>, <code>create</code> ou <code>update</code>? Réflechis-bien!</p>

            <p>Si tout se passe bien, tu sais voler maintenant en sautant!!</p>
          </div>
        </div>
      </div>

      <!-- Étape 3 -->
      <div class="card">
        <div class="card-header" id="heading3">
          <h2 class="mb-0">
            <button class="btn btn-link task" type="button" data-toggle="collapse" data-target="#collapse3" aria-expanded="false" aria-controls="collapse3">
              Étape 3 - Plateformes
            </button>
          </h2>
        </div>
        <div id="collapse3" class="collapse" aria-labelledby="heading3" data-parent="#accordionExample">
          <div class="card-body">
            <p>C'est bien gentil de pouvoir voler, mais on aimerait  bien pouvoir retomber sur quelque chose. On va donc ajouter des plateformes!</p>

            <p>Tout d'abord, tu vas devoir dessiner ta plateforme. Retourne sur <a href="https://www.pixilart.com">pixilart.com</a> et dessine une jolie plateforme 40x40.</p>

            <p>Après avoir dessiné et importé ton image, tu peux <b>load</b> cette image dans le système. Ceci est fait comme tu as <b>load (téléchargé)</b> le joueur: en lui donnant un nom et en utilisant le nom de l'image.</p>

            <p>Après avoir <b>load</b> l'image, tu sais faire apparaître une plateforme sur l'écran comme tu as fait apparaître le joueur. Souviens-toi, tu as utilisé la commande</p>

            <pre><code class="language-js">
              this.player = this.physics.add.sprite(400, 360, "player");
            </code></pre>

            <p>pour faire apparaître le joueur. Adapte la commande pour faire apparaître une plateforme!</p>

            <p>Essaie d'adapter les coordonnées pour faire apparaître la plateforme sous ton Sprite. Est-ce que le personnage tombe à travers la plateforme?</p>

            <p>On doit encore indiquer qu'on veut créer une collision entre les deux objets!</p>

            <pre><code class="language-js">
              this.physics.add.collider(this.player, this.platform);
            </code></pre>

            <p>Ceci va ajouter une "collision" entre la palteforme et le joueur. Lance ton code, en faisant attention à avoir ton joueur au-dessus de la plateforme, et observe!</p>
          </div>
        </div>
      </div>

      <!-- Étape 4 -->
      <div class="card">
        <div class="card-header" id="heading4">
          <h2 class="mb-0">
            <button class="btn btn-link task" type="button" data-toggle="collapse" data-target="#collapse4" aria-expanded="false" aria-controls="collapse4">
              Étape 4 - Plateformes immobiles
            </button>
          </h2>
        </div>
        <div id="collapse4" class="collapse" aria-labelledby="heading4" data-parent="#accordionExample">
          <div class="card-body">
            <p>Gros Problème! Le personnage emporte la plateforme!! Ce n'est vraiment pas le but!</p>

            <p>En fait, il faut que la plateforme soit STATIQUE. Le joueur ne pourra alors plus l'emporter avec lui.</p>

            <p>Une façon de la rendre statique est simplement en disant qu'elle ne peut pas bouger.</p>

            <pre><code class="language-js">
              this.platform.setImmovable(true);
            </code></pre>

            <p>Place ce code après avoir créé ta plateforme, mais avant d'ajouter la collision. Voilà, tu as crée la première partie de la plateforme!</p>

            <p>Mais il n'y a qu'une plateforme pour l'instant... Rajoutons-en encore une non?</p>

            <p>Crée une nouvelle plateforme en utilisant</p>

            <pre><code class="language-js">
              this.platform2 = this.physics.add.sprite(XXX, YYY, "platform");
            </code></pre>

            <p>Rend cette plateforme immobile également!</p>

            <pre><code class="language-js">
              this.platform2.setImmovable(true);
            </code></pre>

            <p>Finalement, ajoute une collision entre le joueur et les plateformes!</p>

            <pre><code class="language-js">
              this.physics.add.collider(this.player, this.platform2);
            </code></pre>

            <p>Voilà! Tu as ajouté une nouvelle plateforme, <code>platform2</code>.</p>

            <p><b>CHALLENGE:</b> Ajoute encore 2 ou 3 plateformes et assure toi que tu puisse sauter d'une plateforme à l'autre.</p>
          </div>
        </div>
      </div>

      <!-- Étape 5 -->
      <div class="card">
        <div class="card-header" id="heading5">
          <h2 class="mb-0">
            <button class="btn btn-link task" type="button" data-toggle="collapse" data-target="#collapse5" aria-expanded="false" aria-controls="collapse5">
              Étape 5 - Groupes statiques
            </button>
          </h2>
        </div>
        <div id="collapse5" class="collapse" aria-labelledby="heading5" data-parent="#accordionExample">
          <div class="card-body">
            <p>Tu t'es sûrement rendu compte que c'est pénible d'ajouter les plateformes une à une! Et tu as entièrement raison! Pour résoudre cela, on va utiliser des <b>groupes</b>.</p>

            <p>Commençons par créer un groupe.</p>

            <pre><code class="language-js">
              this.platforms = this.physics.add.group();
            </code></pre>

            <p>Remarque que j'utilise ici <b>plateforms</b>, donc ce n'est pas le même nom de variable qu'avant.</p>

            <p>Pour ajouter une plateforme, il suffit d'ajouter une plateforme au groupe maintenant. </p>

            <pre><code class="language-js">
              this.platforms.create(XXX, YYY, "platform");
            </code></pre>

            <p>Maintenant essaie de rendre tout le groupe immobile et d'ajouter une collision avec le joueur!</p>

            <p>Ça ne marche pas! Surprise! En fait, on ne sait pas rendre un groupe immobile. On sait par contre le rendre STATIQUE.</p>

            <p>Lorsque tu crées ton groupe, change la ligne en </p>

            <pre><code class="language-js">
              this.platforms = this.physics.add.staticGroup();
            </code></pre>

            <p>Maintenant, ajoute une collision avec le joueur et observe. Normalement, tu peux te poser sur les nouvelles plateformes.</p>

            <p>Pour créer d'autres plateformes, il te suffit alors de répeter ce code:</p>

            <pre><code class="language-js">
              this.platforms.create(XXX, YYY, "platform");
            </code></pre>

            <p>Tu peux le répeter autant de fois que tu le souhaites.</p>

            <p><b>CHALLENGE: </b> Enlève les plateformes créées plus tôt en utilisant l'ancienne manière. Ajoute 10 plateformes sur ton écran et assure-toi que tu puisses sauter d'une plateforme à l'autre.</p>
          </div>
        </div>
      </div>

      <!-- Étape 6 -->
      <div class="card">
        <div class="card-header" id="heading6">
          <h2 class="mb-0">
            <button class="btn btn-link task" type="button" data-toggle="collapse" data-target="#collapse6" aria-expanded="false" aria-controls="collapse6">
              Étape 6 - Vol interdit
            </button>
          </h2>
        </div>
        <div id="collapse6" class="collapse" aria-labelledby="heading6" data-parent="#accordionExample">
          <div class="card-body">
            <p>Le jeu est trop facile pour l'instant! Tu sais voler!!</p>

            <p>Pour remedier à ça, tu peux ajouter une condition en plus pour pouvoir sauter, de cette façon:</p>

            <pre><code class="language-js">
              if(this.key_W.isDown && /* Touche la plateforme */) {
                // Sauter
              }
            </code></pre>

            <p>Pour vérifier si tu touches la plateforme, utilise</p>

            <pre><code class="language-js">
              this.player.body.touching.down
            </code></pre>

            <p>Voilà, tu ne peux plus voler!</p>

            <p><b>Challenge final: </b> Fais commencer ton joueur à gauche du jeu. Ajoute des plateformes pour faire un jeu de parcours. Pour les plus déterminés, ajoutez un drapeau (ou autre objet de victoire) à la fin du jeu! (Attention, la dernière partie est compliquée!)</p>
          </div>
        </div>
      </div>

    </div>
  </div>



<div class="footer">
  <div class="footer-links">
    <a href="https://techieslab.be/"><i class="fas fa-globe"></i></i></a>
    <a href="https://www.facebook.com/TechiesLabBrussels"><i class="fab fa-facebook"></i></a>
    <a href="https://www.linkedin.com/company/techies-lab/"><i class="fab fa-linkedin"></i></a>
    <a href="https://twitter.com/TechiesLab"><i class="fab fa-twitter"></i></a>
  </div>
  <div class="footer-copyright">
    <a href="https://techieslab.be" rel="noopener noreferrer" target="_blank" class="alert-link copyright">
      <i class="far fa-copyright"></i> 2021 Techies Lab ASBL. All rights reserved.
    </a>
  </div>
</div>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script src="javascript/prism.js"></script>
</body>
</html>
